"use strict";class DatesCalculator{constructor(t){this.container=t.querySelector(".dates-diff.calculator"),this.inputs=this.container.querySelectorAll("input");const e=new Date(1950,0,1),i=[String(e.getFullYear()).padStart(2,"0"),String(e.getMonth()+1).padStart(2,"0"),String(e.getDate()).padStart(2,"0")];this.inputs[0].value=i.join("-");const a=new Date(Date.now()),n=[String(a.getFullYear()).padStart(2,"0"),String(a.getMonth()+1).padStart(2,"0"),String(a.getDate()).padStart(2,"0")];this.inputs[1].value=n.join("-"),this.result_container=this.container.querySelector(".result"),this.calculate=this.container.querySelector("button.calculate"),this.calculate.addEventListener("click",(()=>{const t=new Date(this.inputs[0].value),e=new Date(this.inputs[1].value),i=new Date(Math.abs(t-e)).getFullYear()-1970,a=12*i+11-(t.getMonth()+e.getMonth()),n=Math.round(Math.abs((t-e)/864e5)),r=Math.round(Math.abs((t-e)/36e5)),s=Math.round(Math.abs((t-e)/6e4)),c=Math.round(Math.abs((t-e)/1e3));this.result_container.innerHTML="The difference between dates is:<br>",this.result_container.innerHTML+=`\n      ${i} years, \n      ${(a+1-12*i)%12} months, \n      ${n-365*i-(i-i%4)/4} days<br>\n      `,this.result_container.innerHTML+="<br>It is:<br>",this.result_container.innerHTML+=`${a} months<br>`,this.result_container.innerHTML+=`${n} days<br>`,this.result_container.innerHTML+=`${r} hours<br>`,this.result_container.innerHTML+=`${s} minutes<br>`,this.result_container.innerHTML+=`${c} seconds`}))}show(){this.result_container.innerHTML="",this.container.classList.remove("hidden")}hide(){this.container.classList.add("hidden")}}class TimeCalculator{constructor(t){this.container=t.querySelector(".time-diff.calculator"),this.inputs=this.container.querySelectorAll("input"),this.inputs[0].value="00:00:01",this.inputs[1].value=new Date(Date.now()).toLocaleTimeString(),this.result_container=this.container.querySelector(".result"),this.calculate=this.container.querySelector("button.calculate"),this.calculate.addEventListener("click",(()=>{const t=new Date("01/01/2023 "+this.inputs[0].value);let e=new Date("01/01/2023 "+this.inputs[1].value).getTime()-t.getTime();const i=Math.floor(e/1e3/60/60);e-=1e3*i*60*60;const a=Math.floor(e/1e3/60);e-=1e3*a*60;const n=Math.floor(e/1e3);e-=1e3*n,this.result_container.innerHTML="The difference between dates is:<br>",this.result_container.innerHTML+=`\n      ${String(i).padStart(2,"0")} hours, \n      ${String(a).padStart(2,"0")} minutes, \n      ${String(n).padStart(2,"0")} seconds<br>\n      `,this.result_container.innerHTML+="<br>It is:<br>",this.result_container.innerHTML+=`${a+60*i} minutes<br>`,this.result_container.innerHTML+=`${n+60*(a+60*i)} seconds`}))}show(){this.result_container.innerHTML="",this.container.classList.remove("hidden")}hide(){this.container.classList.add("hidden")}}class BirthdayCalculator{constructor(t){this.container=t.querySelector(".birthday.calculator"),this.birthday_input=this.container.querySelector("input");const e=new Date(1950,0,1),i=[String(e.getFullYear()).padStart(2,"0"),String(e.getMonth()+1).padStart(2,"0"),String(e.getDate()).padStart(2,"0")];this.birthday_input.value=i.join("-"),this.result_container=this.container.querySelector(".result"),this.calculate=this.container.querySelector("button.calculate"),this.calculate.addEventListener("click",(()=>{const t=new Date(this.birthday_input.value),e=new Date(Date.now()),i=new Date(Math.abs(t-e)).getFullYear()-1970,a=[String(e.getFullYear()).padStart(2,"0"),String(t.getMonth()+1).padStart(2,"0"),String(t.getDate()).padStart(2,"0")],n=Math.round(Math.abs((new Date(a.join("-"))-e)/864e5)),r=+new Intl.DateTimeFormat("fr-TN-u-ca-persian",{month:"numeric"}).format(t),s=(t.getFullYear()-4)%12;this.result_container.innerHTML=`Your are ${i} years old<br>`,this.result_container.innerHTML+=`${n+1} days until next birthday<br>`,this.result_container.innerHTML+=`<br>Your star zodiac is ${["Aries (Ram)","Taurus (Bull)","Gemini (Twins)","Cancer (Crab)","Leo (Lion)","Virgo (Virgin)","Libra (Balance)","Scorpius (Scorpion)","Sagittarius (Archer)","Capricornus (Goat)","Aquarius (Water Bearer)","Pisces (Fish)"][r-1]}<br>`,this.result_container.innerHTML+=`Your chinese zodiac is ${["Rat","Ox","Tiger","Rabbit","Dragon","Snake","Horse","Goat","Monkey","Rooster","Dog","Pig"][s]}`}))}show(){this.result_container.innerHTML="",this.container.classList.remove("hidden")}hide(){this.container.classList.add("hidden")}}class CalculatorView{constructor(){this.container=document.querySelector(".calculator-view"),this.calculate_buttons=this.container.querySelectorAll(".calculate"),this.dates_caculator=new DatesCalculator(this.container),this.time_caculator=new TimeCalculator(this.container),this.birthday_caculator=new BirthdayCalculator(this.container),this.buttons=this.container.querySelectorAll("button:not(.calculate)"),this.buttons[0].addEventListener("click",this.openCalculator.bind(this)),this.buttons[1].addEventListener("click",this.openCalculator.bind(this)),this.buttons[2].addEventListener("click",this.openCalculator.bind(this))}openCalculator(t){switch(this.dates_caculator.hide(),this.time_caculator.hide(),this.birthday_caculator.hide(),t.target.classList[0]){case"dates-diff":this.dates_caculator.show();break;case"time-diff":this.time_caculator.show();break;case"birthday":this.birthday_caculator.show()}}}new CalculatorView;